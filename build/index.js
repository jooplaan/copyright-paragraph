(()=>{"use strict";const t=window.wp.blocks,e=window.wp.i18n;(0,t.registerBlockVariation)("core/paragraph",{name:"copyright-paragraph",title:(0,e.__)("Copyright Text","copyright-paragraph"),description:(0,e.__)("Add © + current year + site title","copyright-paragraph"),attributes:{content:"",metadata:{bindings:{content:{source:"copyright-paragraph/copyright",args:{startYear:(new Date).getFullYear().toString(),customName:"Testbedrijf"}}}}},scope:["inserter"],icon:"admin-site-alt3"});const r=window.wp.hooks,a=window.wp.element,o=window.wp.data,i=window.wp.compose,n=window.wp.blockEditor,c=(0,i.createHigherOrderComponent)((t=>r=>{const{name:i,attributes:c}=r;if("core/paragraph"!==i)return(0,a.createElement)(t,{...r});const s=c?.metadata?.bindings?.content;if(!s||"copyright-paragraph/copyright"!==s.source)return(0,a.createElement)(t,{...r});const p=s.args||{},g=parseInt(p.startYear,10),d=p.customName?.trim(),l=(new Date).getFullYear(),w=g&&g<l?`${g} – ${l}`:l,h=(0,o.useSelect)((t=>{const r=t("core").getEntityRecord("root","site");return r?.title||(0,e.__)("Site Title","copyright-paragraph")}),[]),u=`© ${w} ${d||h}`;return(0,a.createElement)("div",{...r},(0,a.createElement)(n.RichText,{tagName:"p",value:u,readOnly:!0}))}),"withCopyrightEditPreview");(0,r.addFilter)("editor.BlockEdit","copyright-paragraph/edit-preview",c),window.wp.components;const s=window.wp.coreData;(0,t.registerBlockBindingsSource)({name:"copyright-paragraph/copyright",label:(0,e.__)("Copyright Info","copyright-paragraph"),usesContext:["postType","postId","post"],getValues({select:t,context:r,sourceArgs:a}){if(!a||void 0===a.startYear||void 0===a.customName)try{const t=r?.block,e=t?.attributes?.metadata?.bindings?.content?.args;e&&(a={...a,...e})}catch(t){console.warn("⛔ Can't deduct sourceArgs from block context:",t)}const{getEntityRecord:o,getIsResolving:i}=t(s.store);if(i("root","site"))return{};const n=o("root","site"),c=n?.title||(0,e.__)("Site title","copyright-paragraph"),p=(new Date).getFullYear(),g=parseInt(a?.startYear,10),d=a?.customName?.trim();return{content:`© ${g&&g<p?`${g} – ${p}`:p} ${d||c}`}}})})();